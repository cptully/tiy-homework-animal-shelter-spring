<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add / Edit Animal</title>
    <link rel="stylesheet" th:href="@{css/styles.css}" href="../static/css/styles.css"/>
</head>
<body>
<h1>Chris, Dave and Jeff's Animal Shelter</h1>

<nav>
    <ul>
        <li><a href="list.html" th:href="@{/}">List Animals</a></li>
        <li><a href="addAnimal.html" th:href="@{/addAnimal}">Add an Animal</a></li>
        <li><a href="type.html" th:href="@{/type}">Manage Animal Types</a></li>
        <li><a href="breed.html" th:href="@{/breed}">Manage Animal Breeds</a></li>
    </ul>
</nav>

<h2 th:text="${param.id != null ? 'Edit an Animal' : 'Add an Animal' }"> Add / Edit an Animal</h2>

<p><span class="required">*</span> indicates a required field</p>

<!-- <form id="gizmo-form" role="form" th:action="@{/save}" method="post" th:object="${gizmo}"> -->
<form id="animal-form" role="form" th:action="@{/addAnimal}" method="post">
    <!--/*@thymesVar id="animal" type="com.theIronYard.entity.Animal"*/-->
    <input type="hidden" name="id" id="id" th:value="${animal != null ? animal.id : -1}"/>
    <div>
        <label for="name">
            <strong>Name:</strong> <span class="required">*</span>
        </label>
        <!--/*@thymesVar id="animals" type="java.util.List<Animal>"*/-->
        <!--/*@thymesVar id="animal" type="com.theIronYard.entity.Animal"*/-->
        <input type="text" name="name" id="name" placeholder="name" value="Myst" th:value="${animal != null ? animal.name : ''}"/>
    </div>

    <div>
        <label for="typeId">
            <strong>Type:</strong> <span class="required">*</span>
        </label>
        <!--/*@thymesVar id="types" type="java.util.List<Type>"*/-->
        <!--/*@thymesVar id="type" type="com.theIronYard.entity.Type"*/-->
        <select name="typeId" id="typeId" th:each="type : ${types}">
            <option>select...</option>
            <option th:value="${type.id}" th:text="${type.name}" th:selected="${animal.breed.type == type}">dog</option>
        </select>
    </div>
    <div>
        <label for="breedId">
            <strong>Breed:</strong>
        </label>
        <!--/*@thymesVar id="breeds" type="java.util.List<Breed>"*/-->
        <!--/*@thymesVar id="breed" type="com.theIronYard.entity.Breed"*/-->
        <select name="breedId" id="breedId" th:each="breed : ${breeds}">
            <option>select...</option>
            <option value="${breed.id}" th:text="${breed.name}" th:selected="${animal.breed.name == breed.name}">mutt
            </option>
        </select>
    </div>
    <div>
        <label for="color">
            <strong>Color:</strong>
        </label>
        <!--/*@thymesVar id="animal" type="com.theIronYard.entity.Animal"*/-->
        <input type="text" name="color" id="color" placeholder="color"
               th:value="${animal != null ? animal.color : ''}"/>
    </div>
    <div>
        <label for="description">
            <strong>Description:</strong>
        </label>
        <!--/*@thymesVar id="animal" type="com.theIronYard.entity.Animal"*/-->
        <input type="text" name="description" id="description" placeholder="description"
               th:value="${animal != null ? animal.description : ''}"/>
    </div>
    <div id="notes-block">
        <label for="notes-table">
            <strong>Notes</strong>
        </label>
        <table id="notes-table">
            <tr>
                <th>Date</th>
                <th>Note</th>
            </tr>
            <!--/*@thymesVar id="notes" type="java.util.Set<Note>"*/-->
            <!--/*@thymesVar id="note" type="com.theIronYard.entity.Note"*/-->
            <tr th:each="note : ${notes}">
                <td th:text="${note.getFormattedDate()}">
                    1/1/2012
                </td>
                <td th:text="${note.content}">
                    Myst has been eating more food than usual and loosing weight.
                </td>
            </tr>
        </table>
    </div>
        <button type="submit" id="saveAnimal" >Save Animal</button>
</form>
<img id="mainImage" th:src="@{images/captainmycaptain.jpg}" src="../static/images/captainmycaptain.jpg"/>

</body>
</html>